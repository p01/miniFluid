X=c.getContext`2d`;x=y=a=[];for(C of O.value)C<" "?x=!++y:(C>" "&&a.push({x,y,C,w:"#"==C,a:0,b:0}),x++);M=o=>a.map(p=>{for(q of(p.d=.1,p.c=0,o||(p.D=9*p.w),a))(g=Math.hypot(e=p.x-q.x,f=p.y-q.y)/2-1)<0?o?(g/=p.D,p.d+=(f*(z=3-p.D-q.D)+p.b-q.b)*g,p.c+=(e*z+p.a-q.a)*g):p.D+=g*g:1});setInterval`M(c.width^=M());for(p of a)with(p)X.fillText(C,3*x,5*y),w||(y+=b+=d/4,x+=a+=c/2)`
